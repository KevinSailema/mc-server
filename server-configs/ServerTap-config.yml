# üìù Configuraci√≥n de ServerTap
# Copia este contenido a: plugins/ServerTap/config.yml

# ===========================================
# Configuraci√≥n del Servidor Web
# ===========================================

server:
  # Puerto donde ServerTap escuchar√°
  port: 4567
  
  # Host (0.0.0.0 = todas las interfaces)
  host: '0.0.0.0'
  
  # Mostrar logs detallados
  verbose: true

# ===========================================
# CORS (Cross-Origin Resource Sharing)
# ===========================================

cors:
  # Habilitar CORS (IMPORTANTE para que tu web funcione)
  enabled: true
  
  # Dominios permitidos
  origins:
    - 'https://pollitoscraft.land'
    - 'https://www.pollitoscraft.land'
    - 'http://pollitoscraft.land'
    - 'http://www.pollitoscraft.land'
    - 'http://localhost:5173'  # Para desarrollo con Vite
    - 'http://localhost:3000'  # Para desarrollo con otros frameworks
    - 'http://127.0.0.1:5173'
    - '*'  # TEMPORAL: permite todos (quitar en producci√≥n)

# ===========================================
# Seguridad
# ===========================================

security:
  # API Key para proteger los endpoints
  # GENERA UNA CLAVE SEGURA CON: openssl rand -hex 32
  api-key: 'pollitos-craft-api-key-change-me-2024'
  
  # Requerir API key para todos los endpoints
  require-api-key: true
  
  # IPs permitidas (dejar vac√≠o para permitir todas)
  allowed-ips: []
  # Ejemplo:
  # allowed-ips:
  #   - '127.0.0.1'
  #   - 'tu-ip-del-servidor-web'

# ===========================================
# Logging
# ===========================================

logging:
  # Habilitar logs
  enabled: true
  
  # Nivel de logging: DEBUG, INFO, WARN, ERROR
  level: 'INFO'
  
  # Log de requests
  log-requests: true

# ===========================================
# Endpoints Habilitados
# ===========================================

endpoints:
  # Informaci√≥n de jugadores
  players: true
  
  # Informaci√≥n del servidor
  server: true
  
  # Informaci√≥n de mundos
  worlds: true
  
  # Comandos (NECESARIO para ajLeaderboards)
  commands: true
  
  # Plugins
  plugins: true
  
  # Econom√≠a (requiere Vault)
  economy: false
  
  # Whitelist
  whitelist: false
  
  # Bans
  bans: false
  
  # Operadores
  ops: false
  
  # Chat
  chat: false

# ===========================================
# Rate Limiting
# ===========================================

rate-limit:
  # Habilitar rate limiting
  enabled: true
  
  # Requests por minuto por IP
  requests-per-minute: 60
  
  # Mensaje cuando se excede el l√≠mite
  message: 'Too many requests. Please try again later.'

# ===========================================
# Cach√©
# ===========================================

cache:
  # Habilitar cach√©
  enabled: true
  
  # Tiempo de cach√© en segundos
  ttl: 30
  
  # Cach√© para endpoints espec√≠ficos
  player-list: 30
  server-info: 60
  worlds: 120

# ===========================================
# Webhooks (Opcional)
# ===========================================

webhooks:
  enabled: false
  
  # Eventos que disparan webhooks
  events:
    player-join: false
    player-quit: false
    player-death: false
    server-start: false
    server-stop: false

# ===========================================
# Configuraci√≥n Avanzada
# ===========================================

advanced:
  # Thread pool size
  thread-pool-size: 10
  
  # Timeout de requests (en segundos)
  timeout: 30
  
  # M√°ximo de conexiones simult√°neas
  max-connections: 100
  
  # Comprimir respuestas
  compression: true
